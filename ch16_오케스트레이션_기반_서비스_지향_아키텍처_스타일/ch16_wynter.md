# CHAPTER16 오케스트레이션 기반 서비스 지향 아키텍처 스타일

얼핏 논리적으로 보이지만 궁극적으로는 재앙과도 같은 조직 철학과 결부되어 얼토당토 않은 이 아키텍처가 탄생하게 되었습니다.

## 16.1 역사와 철학

비싸니까 재사용이 아키텍처의 중심 철학이 되었습니다. 이 아키텍처 스타일은 아키텍트가 기술 분할에 집착하면 어떻게 되는지 잘 보여주는 사례입니다. 취지는 좋았으나 결과는 좋지 않았죠.

## 16.2 토폴로지

비즈니스 서비스 / 엔터프라이즈 서비스 버스 / 엔터프라이즈 서비스 / 앱 서비스 / 인프라 서비스

## 16.3 택소노미

엔터프라이즈 레벨의 재사용. 소프트웨어를 뜯어고치는 일에 신물이 난 많은 대기업은 차츰 문제를 해결할 방법을 찾아나서기 시작했죠. 이 목표는 택소노미의 각 레이어를 통해 실현할 수 있습니다.

### 16.3.1 비즈니스 서비스

비즈니스 서비스는 진입점 역할을 합니다. 정의된 코드는 전혀 없고, 입력, 출력, 스키마 정보만 갖고 있습니다.

### 16.3.2 엔터프라이즈 서비스

세분화도니 공유 구현체를 포함합니다. 특정 비즈니스 도메인(CreateCustomer)에 관한 원자적 행위를 구현하는 업무를 담당합니다. 

### 16.3.3 애플리케이션 서비스

한 번만 사용 가능한 단일 구현체 서비스입니다. 

### 16.3.4 인프라 서비스

모니터링, 로깅, 인증/인가 등의 운영 관심사를 지원합니다.

### 16.3.5 오케스트레이션 엔진

이 엔진은 비즈니스 서비스 구현체를 서로 엮어주며 트랜잭션 조정과 메시지 변환 등의 기능을 수행합니다.

비즈니스와 엔터프라이즈 서비스의 관계, 이 둘을 매핑하는 방법, 트랜잭션 경계는 어디까지인지 등을 정의합니다. 커스텀 코드를 패키지와 레거시 소프트웨어 시스템에 통합할 수 있습니다.

트랜잭셔널 로직 세분화를 어디까지 해야할지, 경계가 어디쯤인지 복잡해짐.

### 16.3.6 메시지 흐름

모든 로직이 오케스트레이션 엔진에 있으므로 메시지는 엔진을 경유.

## 16.4 재사용... 그리고 커플링

재사용 위주로 시스템을 구축하다 보니 컴포넌트 간의 커플링이 심하게 발생합니다. 컴포넌트를 수정하면 모든 서비스에 영향을 끼치게 됨.

오.. 디자인시스템에서도 이런 문제를 직면했던 것 같은데 조심해야겠다.
