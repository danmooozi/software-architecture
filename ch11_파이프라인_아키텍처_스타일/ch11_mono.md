# 11.파이프라인 아키텍처 스타일

힘수형 언어 개발자는 언어 구조와 이 아키텍처 요소가 유사하다고 생각할 것입니다.

## 11.1 토폴로지

![image](https://github.com/user-attachments/assets/34054ad5-c0fb-4861-9b85-a151849e780d)

파이프와 필터는 특정한 방식으로 조정되며, 보통 필터 간 단방향 통신은 점대점 방식으로 구성합니다.

### 11.1.1 파이프

파이프는 한 소스에서 입력을 받아 다른 소스로 출력을 내는, 필터 간 통신 채널입니다. 파이프는 성능상 이유로 보통 단방향, 점대점 방식으로 구성합니다. 파이프를 오가는 페이로드의 데이터는 어떤 포맷이라도 가능하지만,아키텍트는 고성능에 유리한 적은 양의 데이터를 선호합니다.

### **11.1.2** 필터

필터는 자기 완비형(다른 서비스나 모듈 등을 호출하지 않아도 스스로 동작하는 성질) 다른 필터와 독립적이며 일반적으로 무상태성입니다. 

파이프라인 아키텍처 스타일에서 필터는 다음 네 가지 종류가 있습니다.

- 프로듀서
    - 프로세스의 시작점입니다. 아웃바운드만 있습니다.
- 변환기
    - 입력을 받아 필요시 일부 또는 전체 데이터를 변환한 후, 그 결과를 아웃바운드 파이프로 전달합니다. 함수형 프로그래밍의 열혈팬들은 이 기능을 맵map이라고 부릅니다
- 테스터
    - 입력을 받아 하나 이상의 기준에 대해 테스트를 하고 그 결과에 따라 필요시 결과를 생산합니다. 함수형 프로그래머는 이 기능을 리듀스라고 부릅니다
- 컨슈머
    - 파이프라인 흐름의 종착역입니다. 컨슈머는 파이프라인 프로세스의 최종 결과를 데이터베이스에 저장하거나 유저 인터페이스 화면에 표시합니다.

## 11.2 예제

파이프라인 아키텍처 패턴은 다양한 애플리케이션, 특히 간단한 단방향 처리 태스크에서 흔히 볼 수 있습니다.

![image](https://github.com/user-attachments/assets/cfb4b30d-f2c4-4569-8684-898ee6ad0ffe)


서로 다른 종류의 데이터를 카프카에 스트리밍 처리하는 파이프라인 아키텍처 스타일의 용례를 눈 여겨 보세요.

## **11.3** 아키텍처 특성 등급

이 아키텍처의 주요 강점은 모듈성과 결부된 전체 비용 및 단순성입니다.

이 아키텍처는 원래 모놀리식에 가깝기 때문에 분산 아키텍처 스타일에 수반되는 복잡도가 없고 단순해서 알기 쉽고 구축 및 유지보수 비용도 비교적 적게 듭니다.

이 아키텍처의 탄력성과 확장성은 모놀리식 배포 때문에 점수가 낮습니다.

모놀리식 내부 기능 중에는 더러 확장 가능한 것들도 있지만,확장을 하려면 대부분 멀티스레딩, 내부 메시징을 비롯해 이 아키텍처와는 안 어울리는 갖가지 병렬 처리 프랙티스와 기법이 동원됩니다.
